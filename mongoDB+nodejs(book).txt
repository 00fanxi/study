MongoDB + Node.js(책)

mongodb.com -> 다운로드 -> community server ->설치 -> 설치완료 후 설치 폴더 안에 있는 [bin]폴더를
시스템 PATH에 추가( 윈도우 시작 메뉴 안에 컴퓨터 아이콘 우클릭 [속성]메뉴 왼쪽의 [고급 시스템 설정] 클릭.
[시스템 속성] 대화상자가 보이면 [고급] 탭에 있는 [환경 변수] 버튼을 클릭)
보통 C:\program FIles\MongoDB\Server\3.6 폴더에 설치됨.
시스템 환경 변수 중에서 PATH 환경 변수에 몽고디비 설치 폴더 아래에 있는 [bin] 폴더의 패스를 추가.

윈도우 사용자 폴더 밑에 [database]폴더를 만들고 그 안에 다시 [local] 폴더를 만든다.
그 후 명령 프롬프트 창을 열고 
%mongod --dbpath /Users/user/database/local
명령으로 데이터베이스 시작.

데이터베이스가 시작되면 마지막에 27017포트에서 연결을 기다린다는 메시지가 표시된다.
database/local 폴더에 여러개의 파일과 폴더가 생성된다.

몽고디비 데이터베이스를 사용할 때는 위 명령이 항상 실행되어 있어야 한다.
(즉, 명령 프롬프트에서 몽고디비 데이터베이스가 실행되어 있어야 노드 프로그램에서
데이터베이스에 접속 할 수 있음)

//////////////////////////////////////////////////

<-------몽고디비에 데이터 추가 or 조회-------->

%mongo 
(몽고 디비에 연결할 수 있는 셸 상태로 들어간다. = 명령을 이용해서 데이터베이스를 조작할 수 있다.)

%use local
(use 명령으로 데이터베이스를 지정)

%db.users.insert({name:'이름',age:'나이'})
(데이터베이스는 db라는 이름으로 접근할 수 있으며 데이터베이스 안에는 컬렉션을 만들고 그 안에 문서를 저장할
수 있다. 컬렉션을 별도로 만들지 않고 해당 컬렉션에 필요한 작업을 실행하도록 지정만 해도 자동으로 새로
만들어짐. 위와 같이 insert명령을 실행하면 users 컬렉션이 자동으로 만들어지고 그 안에 파라미터로 전달한 JSON
객체가 추가됨. 이 JSON객체가 바로 문서 객체가 된다.)

%db.users.find().pretty()
(users 컬렉션에 있는 모든 문서 객체들을 반환(return)한다. 
pretty()메소드는 결과가 출력될 때 예쁘게 보이도록 결과에 띄어쓰기나 줄 바꿈을 자동으로 넣어준다.)










